// on click, shake the screen
document.addEventListener("click", (e) => {
    const body = document.body;

    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;

    const dx = e.clientX - centerX;
    const dy = e.clientY - centerY;

    const length = Math.sqrt(dx * dx + dy * dy) || 1;
    const strength = 8;
    const offsetX = (dx / length) * strength;
    const offsetY = (dy / length) * strength;

    body.style.setProperty("--shake-x", `${offsetX}px`);
    body.style.setProperty("--shake-y", `${offsetY}px`);

    body.classList.add("shake-impact");
    setTimeout(() => body.classList.remove("shake-impact"), 400);
});

// easter egg
const asciiCanvas = document.getElementById("ascii-canvas");
const asciiProfile = document.querySelector(".ascii-profile");
const audio = new Audio("audio/click.wav");

let clickCount = 0;
const triggerCount = 25;

const altAscii = [`
â €â €â €â €â €â €â¢€â£¤â ¤â ¤â ¤â ¤â ¤â ¤â ¤â ¤â ¤â ¤â¢¤â£¤â£€â£€â¡€â €â €â €â €â €â €
â €â €â €â €â¢€â¡¼â ‹â €â£€â „â¡‚â â£€â£’â£’â ‚â €â ¬â ¤â ¤â ¬â â ‰â â ²â£„â¡€â €â €
â €â €â €â¢€â¡¾â â €â Šâ¢”â •â ˆâ£€â£€â¡€â ˆâ †â €â €â €â¡â â €â â¢‚â €â ˆâ£·â €â €
â €â €â£ â£¾â ¥â €â €â£ â¢ â£žâ£¿â£¿â£¿â£‰â ³â£„â €â €â£€â£¤â£¶â£¶â£¶â¡„â €â €â£˜â¢¦â¡€
â¢€â¡žâ¡â£ â žâ¢‹â¡›â ¶â ¤â£¤â ´â šâ €â ˆâ ™â â €â €â¢¹â¡â â €â£€â£ â ¤â¢¤â¡•â ±â£·
â ˜â¡‡â ‡â£¯â ¤â¢¾â¡™â ²â¢¤â£€â¡€â ¤â €â¢²â¡–â£‚â£€â €â €â¢™â£¶â£„â ˆâ ‰â£¸â¡„â  â£ â¡¿
â €â ¹â£œâ¡ªâ €â ˆâ¢·â£¦â£¬â£â ‰â ›â ²â£®â£§â£â£€â£€â ¶â žâ¢â£€â£¨â¢¶â¢¿â£§â ‰â¡¼â 
â €â €â ˆâ¢·â¡€â €â €â ³â£Œâ¡Ÿâ »â ·â£¶â£§â£€â£€â£¹â£‰â£‰â£¿â£‰â£‰â£‡â£¼â£¾â£¿â €â¡‡â €
â €â €â €â ˆâ¢³â¡„â €â €â ˜â ³â£„â¡€â¡¼â ˆâ ‰â ›â¡¿â ¿â ¿â¡¿â ¿â£¿â¢¿â£¿â£¿â¡‡â €â¡‡â €
â €â €â €â €â €â ™â¢¦â£•â  â£’â Œâ¡™â “â ¶â ¤â£¤â£§â£€â£¸â£‡â£´â£§â ¾â ¾â ‹â €â €â¡‡â €
â €â €â €â €â €â €â €â ˆâ ™â ¶â£­â£’â ©â –â¢ â£¤â „â €â €â €â €â €â  â ”â â¡°â €â£§â €
â €â €â €â €â €â €â €â €â €â €â €â ‰â ›â ²â¢¤â£€â£€â ‰â ‰â €â €â €â €â €â â €â£ â â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ‰â ‰â ›â ’â ²â ¶â ¤â ´â ’â šâ â €â €
`,
`
â¡â ‰â ›â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â£¿
â£¿â €â €â €â ˆâ ›â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â ›â ‰â â €â£¿
â£¿â£§â¡€â €â €â €â €â ™â ¿â ¿â ¿â »â ¿â ¿â Ÿâ ¿â ›â ‰â €â €â €â €â €â£¸â£¿
â£¿â£¿â£·â£„â €â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£´â£¿â£¿
â£¿â£¿â£¿â£¿â â €â €â €â €â €â €â €â €â €â €â €â €â €â €â  â£´â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â¡Ÿâ €â €â¢°â£¹â¡†â €â €â €â €â €â €â£­â£·â €â €â €â ¸â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â ƒâ €â €â ˆâ ‰â €â €â ¤â „â €â €â €â ‰â â €â €â €â €â¢¿â£¿â£¿â£¿
â£¿â£¿â£¿â¢¾â£¿â£·â €â €â €â €â¡ â ¤â¢„â €â €â €â  â£¿â£¿â£·â €â¢¸â£¿â£¿â£¿
â£¿â£¿â£¿â¡€â ‰â €â €â €â €â €â¢„â €â¢€â €â €â €â €â ‰â ‰â â €â €â£¿â£¿â£¿
â£¿â£¿â£¿â£§â €â €â €â €â €â €â €â ˆâ €â €â €â €â €â €â €â €â €â €â¢¹â£¿â£¿
â£¿â£¿â£¿â£¿â ƒâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿
`,
`
â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ â „â „â „â „â£ â£¤â£´â£¶â£¶â£¶â£¶â£¤â¡€â ˆâ ™â¢¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡Ÿâ „â „â „â „â „â£¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£†â „â ˆâ£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â â „â „â „â¢€â£´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â „â „â¢ºâ£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡„â „â „â „â ™â »â ¿â£¿â£¿â£¿â£¿â ¿â ¿â ›â ›â »â£¿â¡„â „â£¾â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡‡â „â „â  ðŸ‘ï¸ â „â¢¹â£¿â¡—â „ ðŸ‘ï¸ â¢„â¡€â£¾â¢€â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡‡â ˜â „â „â „â¢€â¡€â „â£¿â£¿â£·â£¤â£¤â£¾â£¿â£¿â£¿â£§â¢¸â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â¡‡â „â£°â£¿â¡¿â Ÿâ ƒâ „â£¿â£¿â£¿â£¿â£¿â¡›â ¿â¢¿â£¿â£·â£¾â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â¡„â ˆâ â „â „â „â „â »â ¿â¢›â£¿â£¿â ¿â ‚â „â¢¹â¢¹â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡â â „â „â£ â£€â£€â£šâ£¯â£µâ£¶â †â£°â „â žâ£¾â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â¡„â „â „â ˆâ ›â ¿â ¿â ¿â£»â¡â¢ â£¿â£Žâ£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â Ÿâ ›â „â „â „â „â ™â£›â£¿â£¿â£µâ£¿â¡¿â¢¹â¡Ÿâ£¿â£¿â£¿â£¿â£¿
`,
``
];

var nextAltAscii = 0;

asciiProfile.addEventListener("click", () => {
    clickCount++;

    if (clickCount >= triggerCount) {

        if (nextAltAscii < altAscii.length) {
            asciiCanvas.textContent = altAscii[nextAltAscii];
        }

        nextAltAscii += 1;
        clickCount = 0;
    }

    // play sound
    audio.play();
});

// white scan line animation
function randomizeScan() {
    const scan = document.querySelector(".scan-line");
    const randomSpeed = Math.random() * 8 + 5; // between 5sâ€“13s
    scan.style.setProperty("--scan-speed", `${randomSpeed}s`);
}
setInterval(randomizeScan, 5000); // every 10s pick a new speed
randomizeScan();
